[トップページに戻る](README.md)

# [FTKR_SkillSubCommand](FTKR_SkillSubCommand.js) プラグイン

スキル画面にサブコマンドを追加するプラグインです。<br>
本プラグインは、FTKR_SkillExpansion.js および SEP_ShowSkillStatus.jsと組み合わせて使用できません。

ダウンロード: [FTKR_SkillSubCommand.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_SkillSubCommand.js)

## 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
2. [スキルの削除条件](#スキルの削除条件)
3. [カスタムコマンドについて](#カスタムコマンドについて)
4. [実行したアクターとスキルの情報](#実行したアクターとスキルの情報)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [ライセンス](#ライセンス)

## 概要

本プラグインを実装することで、サブコマンドを表示する機能を追加します。
サブコマンドは標準で以下の機能を持っています。
1. スキルを実行する。
2. 習得済みのスキルを削除する(忘れる)。

## スキルの削除条件
標準でスキルは無条件に削除可能です。
これに対して、以下のノートタグをスキルに追記することで、削除するための条件を設定することができます。

```
<EIC 削除条件>
条件式
</EIC 削除条件>
```

### 条件式(eval) の値について
条件式(eval)は、ダメージ計算式のように、計算式を入力することで、固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param - 使用者のパラメータを参照します。(a.atk で使用者の攻撃力)
* s[x]    - スイッチID x の状態を参照します。
* v[x]    - 変数ID x の値を参照します。
* iv[x]   - アイテムのセルフ変数ID x の値を参照します。(*1)

(*1) セルフ変数を使用する場合は、[FTKR_ItemSelfVariables.js](FTKR_ItemSelfVariables.js)が必要です。

### 入力例）
スイッチID1 が ON の時に削除可能。
```
<EIC 削除条件>
s[1]
</EIC 削除条件>
```

### 複数の条件を設定する場合
以下の2種類の入力例は同じ意味です。

#### 縦に複数の条件式を並べる
```
<EIC 削除条件>
条件式1
条件式2
</EIC 削除条件>
```

#### 「`&&`」を使用して横に複数の条件式を並べる
```
<EIC 削除条件>
条件式1 && 条件式2
</EIC 削除条件>
```

## カスタムコマンドについて
コモンイベントを実行できるカスタムコマンドを設定できます。
なお、コモンイベントを実行すると、自動的にメニューが閉じます。

以下のプラグインパラメータで設定します。

`<Custom1 Format>`
サブコマンドで表示するコマンド名を設定してください。

`<Custom1 EventID>`
実行するコモンイベントのIDを設定してください。

## 実行したアクターとスキルの情報
なお、実行したアクターとスキルの情報は以下のスクリプトで
取得できます。

### アクターのゲームデータ
`$gameParty.menuActor()`
* アクターID - `$gameParty.menuActor()._actorId`
* アクター名 - `$gameParty.menuActor()._name`

### スキルのデータ
`$gameParty.lastItem()`
* スキルID - `$gameParty.lastItem().id`
* スキル名 - `$gameParty.lastItem().name`

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver1.0.0](FTKR_SkillSubCommand.js) | 2017/04/15 | 初版公開 |

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.md)